#!/bin/bash

ai_assemble() {
    local current_dir=$(pwd)
    
    if [ ! -f "AGENTS.md" ]; then
        if [ -f "CLAUDE.md" ]; then
            cp "CLAUDE.md" "AGENTS.md"
            echo "âœ“ Created AGENTS.md from CLAUDE.md"
        else
            echo "âŒ Neither AGENTS.md nor CLAUDE.md found in current directory"
            return 1
        fi
    else
        echo "âœ“ AGENTS.md already exists"
    fi
    
    if [ ! -d ".github" ]; then
        mkdir -p ".github"
        echo "âœ“ Created .github directory"
    fi
    
    if [ ! -f "GEMINI.md" ]; then
        ln -s "AGENTS.md" "GEMINI.md"
        echo "âœ“ Created GEMINI.md symlink to AGENTS.md"
    else
        echo "â€¢ GEMINI.md already exists"
    fi
    
    if [ ! -f ".github/copilot-instructions.md" ]; then
        ln -s "../AGENTS.md" ".github/copilot-instructions.md"
        echo "âœ“ Created .github/copilot-instructions.md symlink to AGENTS.md"
    else
        echo "â€¢ .github/copilot-instructions.md already exists"
    fi
    
    echo "ğŸ¯ AI agent instruction symlinks setup complete!"
    
    echo
    printf "ğŸ”— Linking agents"
    for i in {1..3}; do
        printf "."
        sleep 0.3
    done
    echo
    
    local sparkles=("âœ¨" "â­" "ğŸŒŸ" "ğŸ’«" "âš¡")
    for sparkle in "${sparkles[@]}"; do
        printf "\r$sparkle AI agents assembled! $sparkle"
        sleep 0.2
    done
    echo
}

ai_assemble
